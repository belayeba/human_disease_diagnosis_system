 {% extends "manage_factor/factor.html" %}
 {% block content7 %}


         <div class="card pane role_toggle role_toggle_7">
             <div class="card-header bg-secondary text-white">Registering measurement
             <a   onclick='toggle_measurement_registration_block()' id="register_measurement_btn"
                          style="float:right;cursor:pointer;margin-bottom:8px;color:lightcyan"><ins>Add new</ins></a>
             </div>
             <div class="card-body">

                  <div  style="padding-bottom:5px;margin-top:0px;">
                  <div id="registering_measurement_form_block" style="z-index: 1;background-color: whitesmoke;padding: 10px;border-radius: 5px" >

                  <form id="measurement_registering_form" data-url="{% url "save_measurement" %}">
                      {% csrf_token %}
                      <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text">Name</span>
                        </div>
                        <input name="name" id="measurement_registration_name" onkeyup="load_measurement_name($(this).val(),'{% url 'measurement_name_browser'  %}')"
                               type="text" class="form-control"
                               placeholder="name..."
                               list="measurement_name_browser" onkeydown="block_unwanted_symbol()">
                        <input type="submit" class="btn btn-sm btn-info" value="add">
                      </div>
                      <div id="measurement_registration_name_error" class="invalid-feedback" style="padding-left: 10px"></div>
                  </form>



                   <datalist class="data" id="measurement_name_browser"></datalist>



                   </div>
                  </div>

                  <div id="measurement_table_parent_div">
                  <table data-url="{% url "measurement_datatable_link" %}" style="margin-top:5px; margin-left:0px;" id="measurement_table">
                            <thead>
                                <th>Name</th><th></th><th></th>
                            </thead>
                  </table>
                  </div>

                  <div id="measurement_delete_confirmation" class="alert alert-danger" style="display:none;position: absolute; top: 35%;right:15%;width: 70%;" >
                       <button type="button" class="close"  aria-label="Close"
                               onclick="disable_measurement_delete_confirmation()">
                           <span aria-hidden="true">&times;</span>
                       </button><br/><br/>
                       Do you want to delete measurement with name of "<span style="color:#0069d9" id="measurement_delete_confirmation_name"></span>" ?
                      <br/><br/><div class="row">
                          <div class="col-6"></div>
                          <div class="col-6">
                              <button onclick="confirmed_delete_measurement()" data-url={% url "delete_measurement" %} id="measurement_delete_yes_btn_id" style="margin-right: 15px;float:right" data-id="" class="btn btn-primary btn-sm">Yes</button>
                              <button onclick="disable_measurement_delete_confirmation()" style="float:right;margin-right: 15px" class="btn btn-secondary btn-sm">No</button>
                          </div>
                      </div>
                  </div>

                  <div id="measurement_notification" class="alert alert-danger" style="display:none;position: absolute; top: 1%;right:1%;width: 50%;" >

                      <div class="row">
                          <div class="col-10" id="measurement_notification_message"></div>
                          <div  class="col-2">
                               <button type="button" class="close"  aria-label="Close"onclick="hide_measurement_notification()">
                                   <span aria-hidden="true">&times;</span>
                               </button>
                          </div>
                      </div>
                  </div>
                   <div id="measurement_update_popup" style="display:none;position: absolute; top: 20%;right:15%;width: 70%;;padding: 6px;background-color: gray">
                               <div class="card">
                                         <div class="card-header">Update measurement
                                               <button type="button" class="close"  aria-label="Close"
                                                       onclick="hide_measurement_update_popup()">
                                                   <span aria-hidden="true">&times;</span>
                                               </button>
                                          </div>
                                           <div class="card-body">
                                               <form id="measurement_update_form" data-url="{% url "update_measurement" %}">
                                                   {% csrf_token %}
                                                   <input id="measurement_id_update" name="id" hidden>
                                                   <label>Name </label><br/>
                                                   <input onkeyup="load_measurement_name($(this).val(),'{% url 'measurement_name_browser' %}')" list="measurement_name_browser" id="measurement_name_update" name="name" class="form-control" type="text" placeholder="name..."><br/>
                                                   <div id="measurement_update_name_error" class="invalid-feedback" ></div><br/>
                                                   <input type="submit" value="save" class="btn btn-primary btn-sm">
                                               </form>
                                           </div>
                                </div>
                   </div>

             </div>
             <div class="card-footer">Footer</div>
        </div>

      {% block content8 %}

    {% endblock content8 %}
 {% endblock content7 %}




